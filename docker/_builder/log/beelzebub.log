Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "mybuilder" instance using docker-container driver

#1 [beelzebub internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.03kB done
#1 DONE 0.0s

#2 [beelzebub linux/amd64 internal] load metadata for docker.io/library/golang:1.23-alpine
#2 ...

#3 [beelzebub linux/arm64 internal] load metadata for docker.io/library/golang:1.23-alpine
#3 DONE 0.4s

#2 [beelzebub linux/amd64 internal] load metadata for docker.io/library/golang:1.23-alpine
#2 DONE 0.5s

#4 [beelzebub internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [beelzebub linux/arm64 builder 1/9] FROM docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0
#5 resolve docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0 0.1s done
#5 DONE 0.1s

#6 [beelzebub linux/amd64 builder 1/9] FROM docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0
#6 resolve docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0 0.1s done
#6 DONE 0.1s

#7 [beelzebub linux/arm64 stage-1 3/4] COPY --from=builder /root/beelzebub/configurations /opt/beelzebub/configurations
#7 CACHED

#8 [beelzebub linux/arm64 builder 4/9] RUN git clone https://github.com/t3chn0m4g3/beelzebub &&     cd beelzebub &&     git checkout 0b9aba53ec1671f669d22782758142a1d411b858
#8 CACHED

#9 [beelzebub linux/arm64 builder 6/9] RUN go mod download
#9 CACHED

#10 [beelzebub linux/arm64 builder 3/9] WORKDIR /root
#10 CACHED

#11 [beelzebub linux/arm64 stage-1 2/4] COPY --from=builder /root/beelzebub/main /opt/beelzebub/
#11 CACHED

#12 [beelzebub linux/arm64 builder 7/9] RUN go build -o main .
#12 CACHED

#13 [beelzebub linux/arm64 builder 9/9] RUN sed -i 's/passwordRegex: "^(root|qwerty|Smoker666|123456|jenkins|minecraft|sinus|alex|postgres|Ly123456)$"/passwordRegex: ".*"/g' /root/beelzebub/configurations/services/ssh-22.yaml
#13 CACHED

#14 [beelzebub linux/arm64 builder 8/9] RUN sed -i "s#logsPath: ./log#logsPath: ./configurations/log/beelzebub.json#g" /root/beelzebub/configurations/beelzebub.yaml
#14 CACHED

#15 [beelzebub linux/arm64 stage-1 1/4] COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/
#15 CACHED

#16 [beelzebub linux/arm64 builder 2/9] RUN apk -U add git
#16 CACHED

#17 [beelzebub linux/arm64 builder 5/9] WORKDIR /root/beelzebub
#17 CACHED

#18 [beelzebub linux/arm64 stage-1 4/4] WORKDIR /opt/beelzebub
#18 CACHED

#19 [beelzebub linux/amd64 builder 8/9] RUN sed -i "s#logsPath: ./log#logsPath: ./configurations/log/beelzebub.json#g" /root/beelzebub/configurations/beelzebub.yaml
#19 CACHED

#20 [beelzebub linux/amd64 stage-1 2/4] COPY --from=builder /root/beelzebub/main /opt/beelzebub/
#20 CACHED

#21 [beelzebub linux/amd64 builder 5/9] WORKDIR /root/beelzebub
#21 CACHED

#22 [beelzebub linux/amd64 stage-1 3/4] COPY --from=builder /root/beelzebub/configurations /opt/beelzebub/configurations
#22 CACHED

#23 [beelzebub linux/amd64 builder 2/9] RUN apk -U add git
#23 CACHED

#24 [beelzebub linux/amd64 builder 4/9] RUN git clone https://github.com/t3chn0m4g3/beelzebub &&     cd beelzebub &&     git checkout 0b9aba53ec1671f669d22782758142a1d411b858
#24 CACHED

#25 [beelzebub linux/amd64 builder 9/9] RUN sed -i 's/passwordRegex: "^(root|qwerty|Smoker666|123456|jenkins|minecraft|sinus|alex|postgres|Ly123456)$"/passwordRegex: ".*"/g' /root/beelzebub/configurations/services/ssh-22.yaml
#25 CACHED

#26 [beelzebub linux/amd64 builder 7/9] RUN go build -o main .
#26 CACHED

#27 [beelzebub linux/amd64 stage-1 1/4] COPY --from=builder /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/
#27 CACHED

#28 [beelzebub linux/amd64 builder 3/9] WORKDIR /root
#28 CACHED

#29 [beelzebub linux/amd64 builder 6/9] RUN go mod download
#29 CACHED

#30 [beelzebub linux/amd64 stage-1 4/4] WORKDIR /opt/beelzebub
#30 CACHED

#31 [beelzebub] exporting to image
#31 exporting layers done
#31 exporting manifest sha256:51bddb34cb0a1bb2eab32333f919d7c103e4784a8f336bbdbf48e005ae3d3f08 done
#31 exporting config sha256:0694726227177b0f7216aa110bb3a8f00f29963f03026a690dcf01058905cd3d done
#31 exporting attestation manifest sha256:528b349f9860f34c15753578694d3756cdce0ea44a6f6fd86f53a677403d4975 0.0s done
#31 exporting manifest sha256:3356e64abeb1210485210b7849a8ad6769a58e61ed2d633afe207eecd40d7178 0.0s done
#31 exporting config sha256:38beaa6060a9cc2e19d9802d09b74671ddbe44c495fc8a38af52dd3da9178df3 done
#31 exporting attestation manifest sha256:2e747ab7c7a387279271fbec8a8f159cb2165a2acbd6d7607883c78220d1e862
#31 exporting attestation manifest sha256:2e747ab7c7a387279271fbec8a8f159cb2165a2acbd6d7607883c78220d1e862 0.0s done
#31 exporting manifest list sha256:667acebb05a48975f9ec36a531a7c0a3f6ef495822545856cab6a26280abdc3e 0.0s done
#31 pushing layers
#31 ...

#32 [beelzebub auth] f0rc3ps/beelzebub:pull,push token for registry-1.docker.io
#32 DONE 0.0s

#31 [beelzebub] exporting to image
#31 pushing layers 2.8s done
#31 pushing manifest for docker.io/f0rc3ps/beelzebub:24.04.1@sha256:667acebb05a48975f9ec36a531a7c0a3f6ef495822545856cab6a26280abdc3e
#31 pushing manifest for docker.io/f0rc3ps/beelzebub:24.04.1@sha256:667acebb05a48975f9ec36a531a7c0a3f6ef495822545856cab6a26280abdc3e 2.2s done
#31 ...

#33 [beelzebub auth] asc3t1c/beelzebub:pull,push token for ghcr.io
#33 DONE 0.0s

#31 [beelzebub] exporting to image
#31 pushing layers 2.6s done
#31 pushing manifest for ghcr.io/asc3t1c/beelzebub:24.04.1@sha256:667acebb05a48975f9ec36a531a7c0a3f6ef495822545856cab6a26280abdc3e
#31 pushing manifest for ghcr.io/asc3t1c/beelzebub:24.04.1@sha256:667acebb05a48975f9ec36a531a7c0a3f6ef495822545856cab6a26280abdc3e 2.3s done
#31 DONE 10.1s

#34 [beelzebub] resolving provenance for metadata file
#34 DONE 0.0s
