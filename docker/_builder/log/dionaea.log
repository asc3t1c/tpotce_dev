Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "mybuilder" instance using docker-container driver

#1 [dionaea internal] load build definition from Dockerfile
#1 transferring dockerfile: 3.51kB 0.0s done
#1 DONE 0.0s

#2 [dionaea auth] library/ubuntu:pull token for registry-1.docker.io
#2 DONE 0.0s

#3 [dionaea linux/amd64 internal] load metadata for docker.io/library/ubuntu:24.04
#3 DONE 0.8s

#4 [dionaea linux/arm64 internal] load metadata for docker.io/library/ubuntu:24.04
#4 DONE 0.8s

#5 [dionaea internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [dionaea linux/amd64 1/3] FROM docker.io/library/ubuntu:24.04@sha256:72297848456d5d37d1262630108ab308d3e9ec7ed1c3286a32fe09856619a782
#6 resolve docker.io/library/ubuntu:24.04@sha256:72297848456d5d37d1262630108ab308d3e9ec7ed1c3286a32fe09856619a782 0.0s done
#6 DONE 0.0s

#7 [dionaea linux/arm64 1/3] FROM docker.io/library/ubuntu:24.04@sha256:72297848456d5d37d1262630108ab308d3e9ec7ed1c3286a32fe09856619a782
#7 resolve docker.io/library/ubuntu:24.04@sha256:72297848456d5d37d1262630108ab308d3e9ec7ed1c3286a32fe09856619a782 0.0s done
#7 DONE 0.0s

#8 [dionaea internal] load build context
#8 transferring context: 8.90kB 0.0s done
#8 DONE 0.0s

#9 [dionaea linux/arm64 2/3] COPY dist/ /root/dist/
#9 CACHED

#10 [dionaea linux/arm64 3/3] RUN ARCH=$(arch) &&       if [ "$ARCH" = "x86_64" ]; then ARCH="amd64"; fi &&       if [ "$ARCH" = "aarch64" ]; then ARCH="arm64"; fi &&     echo "$ARCH" &&     cd /root/dist/ &&     apt-get update -y &&     apt-get upgrade -y &&     apt-get install wget -y &&     wget http://ftp.us.debian.org/debian/pool/main/libe/libemu/libemu2_0.2.0+git20120122-1.2+b1_$ARCH.deb          http://ftp.us.debian.org/debian/pool/main/libe/libemu/libemu-dev_0.2.0+git20120122-1.2+b1_$ARCH.deb &&     apt-get install ./libemu2_0.2.0+git20120122-1.2+b1_$ARCH.deb                 ./libemu-dev_0.2.0+git20120122-1.2+b1_$ARCH.deb -y &&     apt-get install -y --no-install-recommends 		build-essential 		ca-certificates 		check 		cmake 		cython3 		git 		libcap2-bin 		libcurl4-openssl-dev 		libev-dev 		libglib2.0-dev 		libloudmouth1-dev 		libnetfilter-queue-dev 		libnl-3-dev 		libpcap-dev 		libssl-dev 		libtool 		libudns-dev 		procps 		python3 		python3-dev 		python3-boto3 		python3-bson 		python3-setuptools 		python3-yaml 		fonts-liberation &&     git clone https://github.com/t3chn0m4g3/dionaea -b 0.11.1 /root/dionaea/ &&     cd /root/dionaea &&     mkdir build &&     cd build &&     cmake -DCMAKE_INSTALL_PREFIX:PATH=/opt/dionaea .. &&     make &&     make install &&     addgroup --gid 2000 dionaea &&     adduser --system --no-create-home --shell /bin/bash --uid 2000 --disabled-password --disabled-login --gid 2000 dionaea &&     setcap cap_net_bind_service=+ep /opt/dionaea/sbin/dionaea &&     chown -R dionaea:dionaea /opt/dionaea/var &&     rm -rf /opt/dionaea/etc/dionaea/* &&     mv /root/dist/etc/* /opt/dionaea/etc/dionaea/ &&     cp /root/dist/cpu_check.py / &&     apt-get purge -y       build-essential       ca-certificates       check       cmake       cython3       git       libcurl4-openssl-dev       libemu-dev       libev-dev       libglib2.0-dev       libloudmouth1-dev       libnetfilter-queue-dev       libnl-3-dev       libpcap-dev       libssl-dev       libtool       libudns-dev       python3       python3-dev       python3-boto3       python3-bson       python3-yaml       wget &&     apt-get install -y       ca-certificates       python3       python3-boto3       python3-bson       python3-psutil       python3-yaml       libcurl4       libemu2       libev4       libglib2.0-0       libnetfilter-queue1       libnl-3-200       libpcap0.8       libpython3.12       libudns0 &&     apt-get autoremove --purge -y &&     apt-get clean &&     rm -rf /root/*            /var/lib/apt/lists/*            /tmp/*            /var/tmp/*            /root/.cache            /opt/dionaea/.git
#10 CACHED

#11 [dionaea linux/amd64 2/3] COPY dist/ /root/dist/
#11 CACHED

#12 [dionaea linux/amd64 3/3] RUN ARCH=$(arch) &&       if [ "$ARCH" = "x86_64" ]; then ARCH="amd64"; fi &&       if [ "$ARCH" = "aarch64" ]; then ARCH="arm64"; fi &&     echo "$ARCH" &&     cd /root/dist/ &&     apt-get update -y &&     apt-get upgrade -y &&     apt-get install wget -y &&     wget http://ftp.us.debian.org/debian/pool/main/libe/libemu/libemu2_0.2.0+git20120122-1.2+b1_$ARCH.deb          http://ftp.us.debian.org/debian/pool/main/libe/libemu/libemu-dev_0.2.0+git20120122-1.2+b1_$ARCH.deb &&     apt-get install ./libemu2_0.2.0+git20120122-1.2+b1_$ARCH.deb                 ./libemu-dev_0.2.0+git20120122-1.2+b1_$ARCH.deb -y &&     apt-get install -y --no-install-recommends 		build-essential 		ca-certificates 		check 		cmake 		cython3 		git 		libcap2-bin 		libcurl4-openssl-dev 		libev-dev 		libglib2.0-dev 		libloudmouth1-dev 		libnetfilter-queue-dev 		libnl-3-dev 		libpcap-dev 		libssl-dev 		libtool 		libudns-dev 		procps 		python3 		python3-dev 		python3-boto3 		python3-bson 		python3-setuptools 		python3-yaml 		fonts-liberation &&     git clone https://github.com/t3chn0m4g3/dionaea -b 0.11.1 /root/dionaea/ &&     cd /root/dionaea &&     mkdir build &&     cd build &&     cmake -DCMAKE_INSTALL_PREFIX:PATH=/opt/dionaea .. &&     make &&     make install &&     addgroup --gid 2000 dionaea &&     adduser --system --no-create-home --shell /bin/bash --uid 2000 --disabled-password --disabled-login --gid 2000 dionaea &&     setcap cap_net_bind_service=+ep /opt/dionaea/sbin/dionaea &&     chown -R dionaea:dionaea /opt/dionaea/var &&     rm -rf /opt/dionaea/etc/dionaea/* &&     mv /root/dist/etc/* /opt/dionaea/etc/dionaea/ &&     cp /root/dist/cpu_check.py / &&     apt-get purge -y       build-essential       ca-certificates       check       cmake       cython3       git       libcurl4-openssl-dev       libemu-dev       libev-dev       libglib2.0-dev       libloudmouth1-dev       libnetfilter-queue-dev       libnl-3-dev       libpcap-dev       libssl-dev       libtool       libudns-dev       python3       python3-dev       python3-boto3       python3-bson       python3-yaml       wget &&     apt-get install -y       ca-certificates       python3       python3-boto3       python3-bson       python3-psutil       python3-yaml       libcurl4       libemu2       libev4       libglib2.0-0       libnetfilter-queue1       libnl-3-200       libpcap0.8       libpython3.12       libudns0 &&     apt-get autoremove --purge -y &&     apt-get clean &&     rm -rf /root/*            /var/lib/apt/lists/*            /tmp/*            /var/tmp/*            /root/.cache            /opt/dionaea/.git
#12 CACHED

#13 [dionaea] exporting to image
#13 exporting layers done
#13 exporting manifest sha256:ac642ebd47dcfe0726449333a66a6933374217ecd51f8b41a2314a0ecc8d475b done
#13 exporting config sha256:a05644b9113e019ef17ed9a4f278f213ccf02e341f82da9625f3471a46e40e4e done
#13 exporting attestation manifest sha256:6d34716105b375218905da85432d77fbe727d899b3cd330f7268eb5403e52642 0.0s done
#13 exporting manifest sha256:9308a8496a8c6a047b5ac1bd5e22d52def960715b66590dfc2675b68b922d5a2 done
#13 exporting config sha256:6bb65b57f4f7e3df3a3aaadb71a9dc108f952fbbbb2262c9f6f70d433f910511 done
#13 exporting attestation manifest sha256:011b827928968919f72bda2486a7a2fdf61c0c15943cebab95523102032b2b4f 0.0s done
#13 exporting manifest list sha256:a2bddf5121fcb53c0c35e9909b59ed0225cb88aa96ac938adfc094c8a8536f79 done
#13 pushing layers
#13 ...

#14 [dionaea auth] f0rc3ps/dionaea:pull,push token for registry-1.docker.io
#14 DONE 0.0s

#13 [dionaea] exporting to image
#13 pushing layers 2.7s done
#13 pushing manifest for docker.io/f0rc3ps/dionaea:24.04.1@sha256:a2bddf5121fcb53c0c35e9909b59ed0225cb88aa96ac938adfc094c8a8536f79
#13 pushing manifest for docker.io/f0rc3ps/dionaea:24.04.1@sha256:a2bddf5121fcb53c0c35e9909b59ed0225cb88aa96ac938adfc094c8a8536f79 2.2s done
#13 ...

#15 [dionaea auth] asc3t1c/dionaea:pull,push token for ghcr.io
#15 DONE 0.0s

#13 [dionaea] exporting to image
#13 pushing layers 15.2s done
#13 pushing manifest for ghcr.io/asc3t1c/dionaea:24.04.1@sha256:a2bddf5121fcb53c0c35e9909b59ed0225cb88aa96ac938adfc094c8a8536f79
#13 pushing manifest for ghcr.io/asc3t1c/dionaea:24.04.1@sha256:a2bddf5121fcb53c0c35e9909b59ed0225cb88aa96ac938adfc094c8a8536f79 2.7s done
#13 DONE 22.9s

#16 [dionaea] resolving provenance for metadata file
#16 DONE 0.0s
