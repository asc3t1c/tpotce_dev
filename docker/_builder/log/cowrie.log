Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "mybuilder" instance using docker-container driver

#1 [cowrie internal] load build definition from Dockerfile
#1 transferring dockerfile: 2.53kB 0.0s done
#1 DONE 0.0s

#2 [cowrie linux/amd64 internal] load metadata for docker.io/library/alpine:3.20
#2 ...

#3 [cowrie linux/arm64 internal] load metadata for docker.io/library/alpine:3.20
#3 DONE 0.4s

#2 [cowrie linux/amd64 internal] load metadata for docker.io/library/alpine:3.20
#2 DONE 0.5s

#4 [cowrie internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [cowrie internal] load build context
#5 DONE 0.0s

#6 [cowrie linux/arm64 1/4] FROM docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f
#6 resolve docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f 0.0s done
#6 DONE 0.1s

#7 [cowrie linux/amd64 1/4] FROM docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f
#7 resolve docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f 0.0s done
#7 DONE 0.1s

#5 [cowrie internal] load build context
#5 transferring context: 3.12kB done
#5 DONE 0.0s

#8 [cowrie linux/arm64 3/4] RUN apk --no-cache -U upgrade &&     apk --no-cache -U add 		bash 		build-base 		git 		gmp-dev 		libcap 		libffi-dev 		mpc1-dev 		mpfr-dev 		openssl 		openssl-dev 		py3-appdirs 		py3-asn1-modules 		py3-attrs 		py3-bcrypt 		py3-cryptography 		py3-dateutil 		py3-greenlet 		py3-mysqlclient 		py3-openssl 		py3-packaging 		py3-parsing 		py3-pip 		py3-service_identity 		py3-treq 		py3-twisted 		python3 		python3-dev &&     addgroup -g 2000 cowrie &&     adduser -S -s /bin/ash -u 2000 -D -g 2000 cowrie &&     mkdir -p /home/cowrie &&     cd /home/cowrie &&     git clone https://github.com/cowrie/cowrie &&     cd cowrie &&     git checkout 7b18207485dbfc218082e82c615d948924429973 &&     mkdir -p log &&     pip3 install --break-system-packages --upgrade --no-cache-dir pip &&     pip3 install --break-system-packages --no-cache-dir -r requirements.txt &&     setcap cap_net_bind_service=+ep $(readlink -f $(type -P python3)) &&     cp /root/dist/cowrie.cfg /home/cowrie/cowrie/cowrie.cfg &&     chown cowrie:cowrie -R /home/cowrie/* /usr/lib/$(readlink -f $(type -P python3) | cut -f4 -d"/")/site-packages/twisted/plugins &&     su - cowrie -c "export PYTHONPATH=/home/cowrie/cowrie:/home/cowrie/cowrie/src &&                     cd /home/cowrie/cowrie &&                     /usr/bin/twistd --uid=2000 --gid=2000 -y cowrie.tac --pidfile cowrie.pid cowrie &" &&     sleep 10 &&     rm -rf /home/cowrie/cowrie/etc &&     apk del --purge build-base                     git                     gmp-dev                     libcap                     libffi-dev                     mpc1-dev                     mpfr-dev                     openssl-dev                     python3-dev                     py3-mysqlclient &&     rm -rf /root/* /tmp/*            /var/cache/apk/*            /home/cowrie/cowrie/cowrie.pid            /home/cowrie/cowrie/.git
#8 CACHED

#9 [cowrie linux/arm64 2/4] COPY dist/ /root/dist/
#9 CACHED

#10 [cowrie linux/arm64 4/4] WORKDIR /home/cowrie/cowrie
#10 CACHED

#11 [cowrie linux/amd64 3/4] RUN apk --no-cache -U upgrade &&     apk --no-cache -U add 		bash 		build-base 		git 		gmp-dev 		libcap 		libffi-dev 		mpc1-dev 		mpfr-dev 		openssl 		openssl-dev 		py3-appdirs 		py3-asn1-modules 		py3-attrs 		py3-bcrypt 		py3-cryptography 		py3-dateutil 		py3-greenlet 		py3-mysqlclient 		py3-openssl 		py3-packaging 		py3-parsing 		py3-pip 		py3-service_identity 		py3-treq 		py3-twisted 		python3 		python3-dev &&     addgroup -g 2000 cowrie &&     adduser -S -s /bin/ash -u 2000 -D -g 2000 cowrie &&     mkdir -p /home/cowrie &&     cd /home/cowrie &&     git clone https://github.com/cowrie/cowrie &&     cd cowrie &&     git checkout 7b18207485dbfc218082e82c615d948924429973 &&     mkdir -p log &&     pip3 install --break-system-packages --upgrade --no-cache-dir pip &&     pip3 install --break-system-packages --no-cache-dir -r requirements.txt &&     setcap cap_net_bind_service=+ep $(readlink -f $(type -P python3)) &&     cp /root/dist/cowrie.cfg /home/cowrie/cowrie/cowrie.cfg &&     chown cowrie:cowrie -R /home/cowrie/* /usr/lib/$(readlink -f $(type -P python3) | cut -f4 -d"/")/site-packages/twisted/plugins &&     su - cowrie -c "export PYTHONPATH=/home/cowrie/cowrie:/home/cowrie/cowrie/src &&                     cd /home/cowrie/cowrie &&                     /usr/bin/twistd --uid=2000 --gid=2000 -y cowrie.tac --pidfile cowrie.pid cowrie &" &&     sleep 10 &&     rm -rf /home/cowrie/cowrie/etc &&     apk del --purge build-base                     git                     gmp-dev                     libcap                     libffi-dev                     mpc1-dev                     mpfr-dev                     openssl-dev                     python3-dev                     py3-mysqlclient &&     rm -rf /root/* /tmp/*            /var/cache/apk/*            /home/cowrie/cowrie/cowrie.pid            /home/cowrie/cowrie/.git
#11 CACHED

#12 [cowrie linux/amd64 2/4] COPY dist/ /root/dist/
#12 CACHED

#13 [cowrie linux/amd64 4/4] WORKDIR /home/cowrie/cowrie
#13 CACHED

#14 [cowrie] exporting to image
#14 exporting layers done
#14 exporting manifest sha256:703cf49eeaac86547cb44ea4deb3eb849c26663c592f6e229f40b654e93b8265 0.0s done
#14 exporting config sha256:db399985de96ec48df74cf941e1c893aa01b9266f9079e6a83947a54a5a35de6 done
#14 exporting attestation manifest sha256:3121236585bf61a6587a17a212d296cdd82fff4bf7990d4ea57d5c98b45cb08d 0.0s done
#14 exporting manifest sha256:611d333a721886a94e42c7ba47eddde00a598bc8899f125b037502e1f0ac1873 done
#14 exporting config sha256:8eaaad34b3ede20f02addd845daa94e74df8c10faa6b6e54733a4552cb5781e3 done
#14 exporting attestation manifest sha256:7ec5a0861083ec7da25066672815ea38ba5c4d217bd459a970660ce2ca9f9e0f 0.0s done
#14 exporting manifest list sha256:da97f4cf2520e05fc3e68e3746487cbf0b616f91cd990849d04d47c87b887ef0
#14 exporting manifest list sha256:da97f4cf2520e05fc3e68e3746487cbf0b616f91cd990849d04d47c87b887ef0 done
#14 pushing layers
#14 ...

#15 [cowrie auth] f0rc3ps/cowrie:pull,push token for registry-1.docker.io
#15 DONE 0.0s

#14 [cowrie] exporting to image
#14 pushing layers 3.2s done
#14 pushing manifest for docker.io/f0rc3ps/cowrie:24.04.1@sha256:da97f4cf2520e05fc3e68e3746487cbf0b616f91cd990849d04d47c87b887ef0
#14 pushing manifest for docker.io/f0rc3ps/cowrie:24.04.1@sha256:da97f4cf2520e05fc3e68e3746487cbf0b616f91cd990849d04d47c87b887ef0 2.2s done
#14 ...

#16 [cowrie auth] asc3t1c/cowrie:pull,push token for ghcr.io
#16 DONE 0.0s

#14 [cowrie] exporting to image
#14 pushing layers 2.9s done
#14 pushing manifest for ghcr.io/asc3t1c/cowrie:24.04.1@sha256:da97f4cf2520e05fc3e68e3746487cbf0b616f91cd990849d04d47c87b887ef0
#14 pushing manifest for ghcr.io/asc3t1c/cowrie:24.04.1@sha256:da97f4cf2520e05fc3e68e3746487cbf0b616f91cd990849d04d47c87b887ef0 2.2s done
#14 DONE 10.6s

#17 [cowrie] resolving provenance for metadata file
#17 DONE 0.0s
